{% extends 'participation/base.html' %}

{% block title %}Participation Opportunities{% endblock %}

{% block content %}
<h4>Filter:</h4>
<div class="row mb-3">
  {% for group in tag_groups %}
    <div class="col-md-4">
      <div class="dropdown">
        <button class="btn btn-outline-secondary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          {{ group.name }}
        </button>
        <ul class="dropdown-menu w-100">
          {% for tag in group.tags %}
            <li>
              <a class="dropdown-item {% if selected_tag == tag.name %}fw-bold{% endif %}" href="?tag={{ tag.name }}">
                {{ tag.name }}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  {% endfor %}
</div>

<ul class="list-group">
  {% for opportunity in opportunities %}
      <li class="list-group-item">
          <h5>
              <a href="{% url 'opportunity_detail' opportunity.pk %}">
                  {{ opportunity.title }}
              </a>
          </h5>
          <p>{{ opportunity.summary|safe|truncatewords:25 }}</p>
          <p>Tags: {{ opportunity.tag_list }}</p>
      </li>
  {% empty %}
  <li class="list-group-item text-center">No opportunities available right now.</li>
  {% endfor %}
</ul>
{% endblock %}

